<p id="notice"><%= notice %></p>

<h1>Customers</h1>
<div class="search-menu">
  <%= form_tag customers_path, method: :get do %>
    <div>
      <%= select_tag :game, options_from_collection_for_select(Customer::game_names, :first, :last) %>
      <%= select_tag :gender, options_from_collection_for_select(Customer::gender_fields, :first, :last) %>
      <%= select_tag :age, options_from_collection_for_select(Customer::age_ranges, :first, :last) %>
      <%= select_tag :income, options_from_collection_for_select(Customer::income_fields, :first, :last) %>
      <%= select_tag :race, options_from_collection_for_select(Customer::race_fields, :first, :last) %>
      <span class='submit-button'>
        <%= fa_icon 'search' %>
        <!-- :name => nil will make url cleaner -->
        <%= submit_tag "Search", :name => nil, class: 'blue-btn' %>
      </span>
    </div>
  <% end %>
  <%= form_tag customers_path, method: :get do %>
    <%= submit_tag "Clear Search", :name => nil, class: 'blue-btn' %>
  <% end %>
</div>

<table>
  <thead>
    <tr>
      <th>Date</th>
      <th>Machine</th>
      <th>Game</th>
      <th>Age</th>
      <th>Gender</th>
      <th>Race</th>
      <th>Income</th>
      <th>Group type</th>
      <th>Group size</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @customers.each do |customer| %>
      <tr>
        <td><%= customer.date %></td>
        <td><%= customer.machine %></td>
        <td><%= customer.game %></td>
        <td><%= customer.age %></td>
        <td><%= customer.gender %></td>
        <td><%= customer.race %></td>
        <td><%= customer.income %></td>
        <td><%= customer.group_type %></td>
        <td><%= customer.group_size %></td>
        <td><%= link_to 'Show', customer %></td>
        <td><%= link_to 'Edit', edit_customer_path(customer) %></td>
        <td><%= link_to 'Destroy', customer, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
